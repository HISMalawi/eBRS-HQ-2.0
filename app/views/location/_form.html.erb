<style>
  .form-control{
      width: 50% !important;
  }
  label{
      font-weight: bold;
  }
</style>
<script src="/js/jquery.form-validator.min.js"></script>

  <form enctype="multipart/form-data" id="form-create-user" accept-charset="UTF-8"
        action="<%= @action%>" method="POST"><input type="hidden">

    <%= hidden_field_tag :authenticity_token, form_authenticity_token -%>

    <%= hidden_field_tag :location_id, @location.id -%>

    <div class="form-group">
      <label for="name">Location Name</label>
      <input type="text" id="name" name="name" class="form-control" data-validation="required" value="<%= @location.name%>">
    </div>
    <div class="form-group">
      <label for="code">Code</label>
      <input type="text" id="code" name="code" class="form-control" value="<%= @location.code%>">
    </div>

    <% if !@parent_locations.blank? %>
    <div class="form-group">
        <label for="parent_location">Parent Location</label> <br />
        <select name="parent_location" id="parent_location" class="form-control" data-validation="required">
          <option></option>
          <% (@parent_locations || []).each do |loc_id, name|%>
              <option value="<%=loc_id%>"><%=name%></option>
          <% end %>
        </select>
    </div>
    <% end %>

    <div class="form-group">
      <label for="desc">Description</label>
      <input type="text" id="desc" name="description" class="form-control" value="<%= @location.description%>">
    </div>

    <input type="hidden" name="tags[]" value="<%=@tag_type_id%>"/>

    <div class="form-group">
    <label for="types">Select Location Types</label>
      <div class="form-pane panel panel-default">
          <div class="container-fluid">

          <% (@tags || []).each do |row_chunck|%>
              <div class="row <%= cycle('row', 'row-striped')%>" style="padding: 5px;padding-left: 15px;">
                <% row_chunck.each do |tag|%>
                <div class="col-md-3">
                  <label class="checkbox">
                    <input name="tags[]" value="<%=tag.id%>" type="checkbox" <%= ((@seleted_tags || []).include?(tag.id) ? 'checked=true' : "")%> >
                    <%=tag.name%>
                  </label>
                </div>
                <% end %>
              </div>
          <% end %>
          </div>
      </div>
    </div>

    <div class="form-group actions-row">
      <button type="button submit" class="btn btn-primary"><span class="glyphicon glyphicon-save"></span> Save</button>
    </div>

  </form>

<script>
    $.validate({
        onError : function(){

        }
    });

</script>
